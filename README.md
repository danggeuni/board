## 덧글 게시판
### 프로젝트 상세 내역
**게시판**

1. 테이블 정보 : ID, 작성자, 제목, 내용, 그룹ID, 분류KEY, DEPTH, 생성일, 수정일
2. 덧글 기능
3. 첨부 파일

**회원**

1. 회원 가입
2. 회원 로그인

---

### **프로젝트 진행 과정**

1. **프로젝트 구상**
    
    이전 토이 프로젝트를 진행하며 진행 하지 못했던 기능 위주로 구현할 필요성을 깨달았다. 즉, 데이터의 생성과 활용 부분이다. **게시판에 글을 생성하여 데이터를 생성하고, 첨부 파일을 추가하기 위한 기존 데이터의 JOIN 기능을 활용할 예정이다.** 덧글 게시판은 일반 게시판과 다르게 게시물에 글을 덧붙여 보여줄 수 있는 게시판이다. 가장 어려운 부분은 역시 구현되는 UI에 정렬 순서일 것이다. 어떻게 해야 원하는 게시글 바로 밑에 덧글이 보이도록 할 수 있을 것인지가 난제였다. 수 많은 시행 착오와 인터넷 검색 및 지인의 조언을 통해 방법을 찾을 수 있었다.
    
2. **테이블**
    
    게시판 테이블의 구현이 가장 어려운 문제였다. 단순히 작성자, 제목, 내용으로 만들어도 게시판의 역할은 할 수 있을 것이다. 그러나 덧글 이라는 기능 때문에 수 시간을 프로젝트 진행을 하지 못하였다.
    
    제일 먼저 만들었던 테이블의 구성이다. 현재는 덧글의 기능을 할 수 없다.
    
    | ID | NAME | TITLE | CONTENT |
    | --- | --- | --- | --- |
    | BIGINT | VARCHAR(50) | VARCHAR(255) | MEDIUMTEXT |
    
    만약 아래와 같이 2개의 게시글을 입력한 뒤 1번의 게시글에 덧글을 추가한다고 가정하였다.
    
    | ID | NAME | TITLE | CONTENT |
    | --- | --- | --- | --- |
    | 1 | 1 | 1 | 1 |
    | 2 | 2 | 2 | 2 |
    
    이 경우 1번과 2번 게시글 사이에 3번 게시글이 위치해야만 한다. 그러나 ID값으로는 정렬이 불가능 하다. 따라서 1번과 3번 게시글을 연관 지어줄 다른 COLUMN이 필요해졌다. 
    
    | ID | NAME | TITLE | CONTENT |
    | --- | --- | --- | --- |
    | 1 | 1 | 1 | 1 |
    | 3 | 3 | 3 | 3 |
    | 2 | 2 | 2 | 2 |
    
    그룹을 위한 GROUP_ID를 추가하여 다른 게시글과 구분을 지어 주었다. 그러나 이 COLUMN만으로는 정렬이 불가능 하여 또 정렬을 위한 COLUMN이 필요하였다. 또한 GROUP_ID의 값을 어떻게 지정할 것인지 문제였다.
    
    | ID | NAME | TITLE | CONTENT | GROUP_ID |
    | --- | --- | --- | --- | --- |
    | 1 | 1 | 1 | 1 | 1 |
    | 3 | 3 | 3 | 3 | 1 |
    | 2 | 2 | 2 | 2 | 2 |
    
    즉, 그룹 내에서도 정렬을 위한 SORT_KEY가 필요하였으며, DEPTH를 통해 추후 VIEW에서 보여줄 들여쓰기를 설정하기로 하였다. 최종 테이블은 다음과 같은 형태로 구상하였다.
    
    | ID | NAME | TITLE | CONTENT | GROUP_ID | SORT_KEY | DEPTH |
    | --- | --- | --- | --- | --- | --- | --- |
    | 1 | 1 | 1 | 1 | 1 | 0 | 0 |
    | 3 | 3 | 3 | 3 | 1 | 1 | 1 |
    | 2 | 2 | 2 | 2 | 2 | 0 | 0 |
